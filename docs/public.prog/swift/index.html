<!doctype html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Swift">
    <meta name="author" content="Nick Craig-Wood">
    <link rel="shortcut icon" type="image/png" href="/img/rclone-16x16.png"/>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-51081799-1', 'rclone.org');
      ga('send', 'pageview');
    </script>

    <title>Swift</title>
    <link rel="canonical" href="https://rclone.org/swift/">
        <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/font-awesome.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">

    
</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://rclone.org"><i class="fa fa-home"></i> rclone - rsync for cloud storage</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
              <ul class="nav navbar-nav">
                <li><a href="/downloads/"><i class="fa fa-cloud-download"></i> Downloads</a></li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown"><b class="caret"></b> Docs</a>
                  <ul class="dropdown-menu">
                    <li><a href="/install/"><i class="fa fa-book"></i> Installation</a></li>
                    <li><a href="/docs/"><i class="fa fa-book"></i> Usage</a></li>
                    <li><a href="/filtering/"><i class="fa fa-book"></i> Filtering</a></li>
                    <li><a href="/changelog/"><i class="fa fa-book"></i> Changelog</a></li>
                    <li><a href="/bugs/"><i class="fa fa-book"></i> Bugs</a></li>
                    <li><a href="/faq/"><i class="fa fa-book"></i> FAQ</a></li>
                    <li><a href="/licence/"><i class="fa fa-book"></i> Licence</a></li>
                    <li><a href="/authors/"><i class="fa fa-book"></i> Authors</a></li>
                    <li><a href="/donate/"><i class="fa fa-heart"></i> Donate</a></li>
                    <li><a href="/privacy/"><i class="fa fa-book"></i> Privacy Policy</a></li>
                  </ul>
                </li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown"><b class="caret"></b> Commands</a>
                  <ul class="dropdown-menu">
                    <li><a href="/commands/rclone_config/"><i class="fa fa-book"></i> rclone config</a></li>
                    <li><a href="/commands/rclone_copy/"><i class="fa fa-book"></i> rclone copy</a></li>
                    <li><a href="/commands/rclone_sync/"><i class="fa fa-book"></i> rclone sync</a></li>
                    <li><a href="/commands/rclone_move/"><i class="fa fa-book"></i> rclone move</a></li>
                    <li><a href="/commands/rclone_purge/"><i class="fa fa-book"></i> rclone purge</a></li>
                    <li><a href="/commands/rclone_mkdir/"><i class="fa fa-book"></i> rclone mkdir</a></li>
                    <li><a href="/commands/rclone_rmdir/"><i class="fa fa-book"></i> rclone rmdir</a></li>
                    <li><a href="/commands/rclone_check/"><i class="fa fa-book"></i> rclone check</a></li>
                    <li><a href="/commands/rclone_ls/"><i class="fa fa-book"></i> rclone ls</a></li>
                    <li><a href="/commands/rclone_lsd/"><i class="fa fa-book"></i> rclone lsd</a></li>
                    <li><a href="/commands/rclone_delete/"><i class="fa fa-book"></i> rclone delete</a></li>
                    <li><a href="/commands/rclone_size/"><i class="fa fa-book"></i> rclone size</a></li>
                    <li><a href="/commands/"><i class="fa fa-book"></i> ...and the rest</a></li>
                  </ul>
                </li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown"><b class="caret"></b> Storage Systems</a>
                  <ul class="dropdown-menu">
                    <li><a href="/overview/"><i class="fa fa-archive"></i> Overview</a></li>
                    <li><a href="/amazonclouddrive/"><i class="fa fa-amazon"></i> Amazon Drive</a></li>
                    <li><a href="/s3/"><i class="fa fa-amazon"></i> Amazon S3</a></li>
                    <li><a href="/b2/"><i class="fa fa-fire"></i> Backblaze B2</a></li>
                    <li><a href="/box/"><i class="fa fa-archive"></i> Box</a></li>
                    <li><a href="/cache/"><i class="fa fa-archive"></i> Cache</a></li>
                    <li><a href="/crypt/"><i class="fa fa-lock"></i> Crypt (encrypts the others)</a></li>
                    <li><a href="/dropbox/"><i class="fa fa-dropbox"></i> Dropbox</a></li>
                    <li><a href="/ftp/"><i class="fa fa-file"></i> FTP</a></li>
                    <li><a href="/googlecloudstorage/"><i class="fa fa-google"></i> Google Cloud Storage</a></li>
                    <li><a href="/drive/"><i class="fa fa-google"></i> Google Drive</a></li>
                    <li><a href="/http/"><i class="fa fa-globe"></i> HTTP</a></li>
                    <li><a href="/hubic/"><i class="fa fa-space-shuttle"></i> Hubic</a></li>
                    <li><a href="/azureblob/"><i class="fa fa-windows"></i> Microsoft Azure Blob Storage</a></li>
                    <li><a href="/onedrive/"><i class="fa fa-windows"></i> Microsoft OneDrive</a></li>
                    <li><a href="/qingstor/"><i class="fa fa-hdd-o"></i> QingStor</a></li>
                    <li><a href="/swift/"><i class="fa fa-space-shuttle"></i> Openstack Swift</a></li>
                    <li><a href="/pcloud/"><i class="fa fa-cloud"></i> pCloud</a></li>
                    <li><a href="/sftp/"><i class="fa fa-server"></i> SFTP</a></li>
                    <li><a href="/webdav/"><i class="fa fa-server"></i> WebDAV</a></li>
                    <li><a href="/yandex/"><i class="fa fa-space-shuttle"></i> Yandex Disk</a></li>
                    <li><a href="/local/"><i class="fa fa-file"></i> The local filesystem</a></li>
                  </ul>
                </li>
                <li><a href="/contact/"><i class="fa fa-envelope"></i> Contact</a></li>
              </ul>
            </div>
        </div>
    </nav>

<div class="container">
  <div class="row">
    <div class="col-md-9">
      

<h2 id="i-class-fa-fa-space-shuttle-i-swift"><i class="fa fa-space-shuttle"></i>Swift</h2>

<p>Swift refers to <a href="https://docs.openstack.org/swift/latest/">Openstack Object Storage</a>.
Commercial implementations of that being:</p>

<ul>
<li><a href="https://www.rackspace.com/cloud/files/">Rackspace Cloud Files</a></li>
<li><a href="https://www.memset.com/cloud/storage/">Memset Memstore</a></li>
<li><a href="https://www.ovh.co.uk/public-cloud/storage/object-storage/">OVH Object Storage</a></li>
<li><a href="https://cloud.oracle.com/storage-opc">Oracle Cloud Storage</a></li>
<li><a href="https://console.bluemix.net/docs/infrastructure/objectstorage-swift/index.html">IBM Bluemix Cloud ObjectStorage Swift</a></li>
</ul>

<p>Paths are specified as <code>remote:container</code> (or <code>remote:</code> for the <code>lsd</code>
command.)  You may put subdirectories in too, eg <code>remote:container/path/to/dir</code>.</p>

<p>Here is an example of making a swift configuration.  First run</p>

<pre><code>rclone config
</code></pre>

<p>This will guide you through an interactive setup process.</p>

<pre><code>No remotes found - make a new one
n) New remote
s) Set configuration password
q) Quit config
n/s/q&gt; n
name&gt; remote
Type of storage to configure.
Choose a number from below, or type in your own value
 1 / Amazon Drive
   \ &quot;amazon cloud drive&quot;
 2 / Amazon S3 (also Dreamhost, Ceph, Minio)
   \ &quot;s3&quot;
 3 / Backblaze B2
   \ &quot;b2&quot;
 4 / Box
   \ &quot;box&quot;
 5 / Cache a remote
   \ &quot;cache&quot;
 6 / Dropbox
   \ &quot;dropbox&quot;
 7 / Encrypt/Decrypt a remote
   \ &quot;crypt&quot;
 8 / FTP Connection
   \ &quot;ftp&quot;
 9 / Google Cloud Storage (this is not Google Drive)
   \ &quot;google cloud storage&quot;
10 / Google Drive
   \ &quot;drive&quot;
11 / Hubic
   \ &quot;hubic&quot;
12 / Local Disk
   \ &quot;local&quot;
13 / Microsoft Azure Blob Storage
   \ &quot;azureblob&quot;
14 / Microsoft OneDrive
   \ &quot;onedrive&quot;
15 / Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)
   \ &quot;swift&quot;
16 / Pcloud
   \ &quot;pcloud&quot;
17 / QingCloud Object Storage
   \ &quot;qingstor&quot;
18 / SSH/SFTP Connection
   \ &quot;sftp&quot;
19 / Webdav
   \ &quot;webdav&quot;
20 / Yandex Disk
   \ &quot;yandex&quot;
21 / http Connection
   \ &quot;http&quot;
Storage&gt; swift
Get swift credentials from environment variables in standard OpenStack form.
Choose a number from below, or type in your own value
 1 / Enter swift credentials in the next step
   \ &quot;false&quot;
 2 / Get swift credentials from environment vars. Leave other fields blank if using this.
   \ &quot;true&quot;
env_auth&gt; true
User name to log in (OS_USERNAME).
user&gt; 
API key or password (OS_PASSWORD).
key&gt; 
Authentication URL for server (OS_AUTH_URL).
Choose a number from below, or type in your own value
 1 / Rackspace US
   \ &quot;https://auth.api.rackspacecloud.com/v1.0&quot;
 2 / Rackspace UK
   \ &quot;https://lon.auth.api.rackspacecloud.com/v1.0&quot;
 3 / Rackspace v2
   \ &quot;https://identity.api.rackspacecloud.com/v2.0&quot;
 4 / Memset Memstore UK
   \ &quot;https://auth.storage.memset.com/v1.0&quot;
 5 / Memset Memstore UK v2
   \ &quot;https://auth.storage.memset.com/v2.0&quot;
 6 / OVH
   \ &quot;https://auth.cloud.ovh.net/v2.0&quot;
auth&gt; 
User ID to log in - optional - most swift systems use user and leave this blank (v3 auth) (OS_USER_ID).
user_id&gt; 
User domain - optional (v3 auth) (OS_USER_DOMAIN_NAME)
domain&gt; 
Tenant name - optional for v1 auth, this or tenant_id required otherwise (OS_TENANT_NAME or OS_PROJECT_NAME)
tenant&gt; 
Tenant ID - optional for v1 auth, this or tenant required otherwise (OS_TENANT_ID)
tenant_id&gt; 
Tenant domain - optional (v3 auth) (OS_PROJECT_DOMAIN_NAME)
tenant_domain&gt; 
Region name - optional (OS_REGION_NAME)
region&gt; 
Storage URL - optional (OS_STORAGE_URL)
storage_url&gt; 
Auth Token from alternate authentication - optional (OS_AUTH_TOKEN)
auth_token&gt; 
AuthVersion - optional - set to (1,2,3) if your auth URL has no version (ST_AUTH_VERSION)
auth_version&gt; 
Endpoint type to choose from the service catalogue (OS_ENDPOINT_TYPE)
Choose a number from below, or type in your own value
 1 / Public (default, choose this if not sure)
   \ &quot;public&quot;
 2 / Internal (use internal service net)
   \ &quot;internal&quot;
 3 / Admin
   \ &quot;admin&quot;
endpoint_type&gt; 
Remote config
--------------------
[test]
env_auth = true
user = 
key = 
auth = 
user_id = 
domain = 
tenant = 
tenant_id = 
tenant_domain = 
region = 
storage_url = 
auth_token = 
auth_version = 
endpoint_type = 
--------------------
y) Yes this is OK
e) Edit this remote
d) Delete this remote
y/e/d&gt; y
</code></pre>

<p>This remote is called <code>remote</code> and can now be used like this</p>

<p>See all containers</p>

<pre><code>rclone lsd remote:
</code></pre>

<p>Make a new container</p>

<pre><code>rclone mkdir remote:container
</code></pre>

<p>List the contents of a container</p>

<pre><code>rclone ls remote:container
</code></pre>

<p>Sync <code>/home/local/directory</code> to the remote container, deleting any
excess files in the container.</p>

<pre><code>rclone sync /home/local/directory remote:container
</code></pre>

<h3 id="configuration-from-an-openstack-credentials-file">Configuration from an Openstack credentials file</h3>

<p>An Opentstack credentials file typically looks something something
like this (without the comments)</p>

<pre><code>export OS_AUTH_URL=https://a.provider.net/v2.0
export OS_TENANT_ID=ffffffffffffffffffffffffffffffff
export OS_TENANT_NAME=&quot;1234567890123456&quot;
export OS_USERNAME=&quot;123abc567xy&quot;
echo &quot;Please enter your OpenStack Password: &quot;
read -sr OS_PASSWORD_INPUT
export OS_PASSWORD=$OS_PASSWORD_INPUT
export OS_REGION_NAME=&quot;SBG1&quot;
if [ -z &quot;$OS_REGION_NAME&quot; ]; then unset OS_REGION_NAME; fi
</code></pre>

<p>The config file needs to look something like this where <code>$OS_USERNAME</code>
represents the value of the <code>OS_USERNAME</code> variable - <code>123abc567xy</code> in
the example above.</p>

<pre><code>[remote]
type = swift
user = $OS_USERNAME
key = $OS_PASSWORD
auth = $OS_AUTH_URL
tenant = $OS_TENANT_NAME
</code></pre>

<p>Note that you may (or may not) need to set <code>region</code> too - try without first.</p>

<h3 id="configuration-from-the-environment">Configuration from the environment</h3>

<p>If you prefer you can configure rclone to use swift using a standard
set of OpenStack environment variables.</p>

<p>When you run through the config, make sure you choose <code>true</code> for
<code>env_auth</code> and leave everything else blank.</p>

<p>rclone will then set any empty config parameters from the environment
using standard OpenStack environment variables.  There is <a href="https://godoc.org/github.com/ncw/swift#Connection.ApplyEnvironment">a list of
the
variables</a>
in the docs for the swift library.</p>

<h3 id="using-an-alternate-authentication-method">Using an alternate authentication method</h3>

<p>If your OpenStack installation uses a non-standard authentication method
that might not be yet supported by rclone or the underlying swift library,
you can authenticate externally (e.g. calling manually the <code>openstack</code>
commands to get a token). Then, you just need to pass the two
configuration variables <code>auth_token</code> and <code>storage_url</code>.
If they are both provided, the other variables are ignored. rclone will
not try to authenticate but instead assume it is already authenticated
and use these two variables to access the OpenStack installation.</p>

<h4 id="using-rclone-without-a-config-file">Using rclone without a config file</h4>

<p>You can use rclone with swift without a config file, if desired, like
this:</p>

<pre><code>source openstack-credentials-file
export RCLONE_CONFIG_MYREMOTE_TYPE=swift
export RCLONE_CONFIG_MYREMOTE_ENV_AUTH=true
rclone lsd myremote:
</code></pre>

<h3 id="fast-list">--fast-list</h3>

<p>This remote supports <code>--fast-list</code> which allows you to use fewer
transactions in exchange for more memory. See the <a href="/docs/#fast-list">rclone
docs</a> for more details.</p>

<h3 id="specific-options">Specific options</h3>

<p>Here are the command line options specific to this cloud storage
system.</p>

<h4 id="swift-chunk-size-size">--swift-chunk-size=SIZE</h4>

<p>Above this size files will be chunked into a _segments container.  The
default for this is 5GB which is its maximum value.</p>

<h3 id="modified-time">Modified time</h3>

<p>The modified time is stored as metadata on the object as
<code>X-Object-Meta-Mtime</code> as floating point since the epoch accurate to 1
ns.</p>

<p>This is a defacto standard (used in the official python-swiftclient
amongst others) for storing the modification time for an object.</p>

<h3 id="limitations">Limitations</h3>

<p>The Swift API doesn&rsquo;t return a correct MD5SUM for segmented files
(Dynamic or Static Large Objects) so rclone won&rsquo;t check or use the
MD5SUM for these.</p>

<h3 id="troubleshooting">Troubleshooting</h3>

<h4 id="rclone-gives-failed-to-create-file-system-for-remote-bad-request">Rclone gives Failed to create file system for &ldquo;remote:&rdquo;: Bad Request</h4>

<p>Due to an oddity of the underlying swift library, it gives a &ldquo;Bad
Request&rdquo; error rather than a more sensible error when the
authentication fails for Swift.</p>

<p>So this most likely means your username / password is wrong.  You can
investigate further with the <code>--dump-bodies</code> flag.</p>

<p>This may also be caused by specifying the region when you shouldn&rsquo;t
have (eg OVH).</p>

<h4 id="rclone-gives-failed-to-create-file-system-response-didn-t-have-storage-storage-url-and-auth-token">Rclone gives Failed to create file system: Response didn&rsquo;t have storage storage url and auth token</h4>

<p>This is most likely caused by forgetting to specify your tenant when
setting up a swift remote.</p>

    </div>
    
    
    <div class="col-md-3">
          <div class="panel panel-default">
        <div class="panel-heading" style="padding: 2px 15px;">
            <h4>Share and Enjoy.</h4>
        </div>
        <div class="panel-body">
          <a href="//twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="njcw">Tweet</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
          <br><g:plusone size="medium"></g:plusone>
          <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
          <br><iframe src="//ghbtns.com/github-btn.html?user=ncw&repo=rclone&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20"></iframe>
          <br><iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Frclone.org%2F&amp;width=110&amp;layout=button_count&amp;action=like&amp;show_faces=true&amp;share=true&amp;height=21&amp;appId=232073720158744" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:200px; height:21px;" allowTransparency="true"></iframe>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading" style="padding: 2px 15px;">
            <h4>Links.</h4>
        </div>
        <div class="panel-body">
          <p>
            <i class="fa fa-comments" aria-hidden="true"></i> <a href="https://forum.rclone.org">Rclone forum.</a><br />
            <i class="fa fa-github" aria-hidden="true"></i> <a href="https://github.com/ncw/rclone">Github project.</a><br />
            <i class="fa fa-google-plus" aria-hidden="true"></i> <a href="https://google.com/+RcloneOrg" rel="publisher">Google+ page.</a><br />
            <i class="fa fa-slack" aria-hidden="true"></i> <a href="https://slack-invite.rclone.org/">Rclone slack chat.</a><br />
            <i class="fa fa-book" aria-hidden="true"></i> <a href="https://github.com/ncw/rclone/wiki">Rclone Wiki.</a><br />
            <i class="fa fa-heart" aria-hidden="true"></i> <a href="/donate/">Donate.</a><br />
            <i class="fa fa-twitter" aria-hidden="true"></i> <a href="https://twitter.com/njcw">@njcw</a>
          </p>
        </div>
    </div>

    </div>
  </div>
          <footer>
            <div class="row">
                <hr>
                <div class="col-sm-12">
                    <p>&copy; <a href="https://www.craig-wood.com/nick/">Nick Craig-Wood</a> 2014-2017<br>
                      Website hosted on a <a href="https://www.memset.com/dedicated-servers/vps/"><span style="font-weight: bold; font-family: arial black, arial, sans-serif; font-style: italic;">MEMSET CLOUD VPS</span></a>,
                      uploaded with <a href="https://rclone.org">rclone</a>
                      and built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
                </div>
            </div>
        </footer>

</div>

    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script src="/js/custom.js"></script>
</body>
</html>

